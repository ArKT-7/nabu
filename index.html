<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Flash .img Files by ArKt</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <!-- Update paths for scripts based on their locations -->
    <script src="dist/fastboot.mjs" type="module"></script>
    <script src="download.js" type="module"></script>
    <script src="ui.js" type="module"></script>
    <style>
      :root {
        --primary-color: #1a73e8;
        --secondary-color: #d3d3d3;
        --background-color: #121212;
        --text-color: #ffffff;
        --button-bg-color: #2c2c2c;
        --button-hover-bg-color: #3c3c3c;
        --input-bg-color: #1e1e1e;
        --input-text-color: #e0e0e0;
        --border-radius: 12px;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: 'Roboto', sans-serif;
      }

      body {
        background-color: var(--background-color);
        color: var(--text-color);
        padding: 20px;
      }

      h3 {
        margin: 0 0 15px 0;
      }

      div {
        margin-bottom: 20px;
        padding: 20px;
        background-color: var(--button-bg-color);
        border-radius: var(--border-radius);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }

      p {
        font-size: 1.2rem;
        margin-bottom: 15px;
      }

      button {
        background-color: var(--button-bg-color);
        color: var(--text-color);
        border: none;
        padding: 10px 20px;
        font-size: 1rem;
        border-radius: var(--border-radius);
        cursor: pointer;
        transition: background-color 0.2s ease;
      }

      button:hover {
        background-color: var(--button-hover-bg-color);
      }

      form {
        display: flex;
        flex-direction: column;
      }

      label {
        margin-bottom: 8px;
        font-weight: 500;
      }

      input[type='text'],
      input[type='file'] {
        padding: 10px;
        background-color: var(--input-bg-color);
        color: var(--input-text-color);
        border: 1px solid var(--secondary-color);
        border-radius: var(--border-radius);
        margin-bottom: 10px;
      }

      input[type='submit'] {
        background-color: var(--primary-color);
        color: var(--text-color);
        border: none;
        padding: 10px;
        border-radius: var(--border-radius);
        cursor: pointer;
        transition: background-color 0.2s ease;
      }

      input[type='submit']:hover {
        background-color: #0f5bd6;
      }

      hr {
        border: none;
        height: 1px;
        background-color: var(--secondary-color);
        margin: 20px 0;
      }

      .status-field,
      .factory-status-field,
      .result-field,
      .factory-flash-log {
        background-color: var(--input-bg-color);
        color: var(--input-text-color);
        padding: 10px;
        border-radius: var(--border-radius);
      }

      .command-form,
      .boot-form,
      .flash-form,
      .factory-form {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .factory-progress-bar {
        width: 100%;
        height: 8px;
        border-radius: var(--border-radius);
        background-color: var(--secondary-color);
      }

      pre {
        white-space: pre-wrap;
        word-wrap: break-word;
      }

      .download-zip-button,
      .flash-zip-button,
      .reconnect-button {
        margin-top: 10px;
      }
    </style>
  </head>

  <body>
    <div>
      <p>Status: <span class="status-field">Not connected in Fastboot</span></p>
      <button class="connect-button">Connect device Fastboot</button>
    </div>

    <hr />

    <div>
      <form class="command-form">
        <label for="command">Command without fastboot lol:</label>
        <input type="text" name="command" class="command-input" />
        <input type="submit" value="Send" />
      </form>
      <p>Result:</p>
      <pre class="result-field"></pre>
    </div>

    <hr />

    <div>
      <form class="boot-form">
        <label for="boot-file">Boot image:</label>
        <input type="file" name="boot-file" class="boot-file" />
        <input type="submit" value="Boot" />
      </form>
    </div>

    <hr />

    <div>
      <form class="flash-form">
        <label for="flash-file">Flash image:</label>
        <input type="file" name="flash-file" class="flash-file" />
        <label for="flash-partition">Partition:</label>
        <input type="text" name="flash-partition" class="flash-partition" />
        <input type="submit" value="Flash" />
      </form>
    </div>

    <hr />

    <div>
      <p>Status: <span class="factory-status-field"></span></p>
      <progress class="factory-progress-bar" max="1" value="0"></progress>
      <button class="reconnect-button" style="display: none;">
        <h3>Reconnect device</h3>
      </button>
      <form class="factory-form">
        <label for="factory-file">Flash custom factory images zip:</label>
        <input type="file" name="factory-file" class="factory-file" />
        <input type="submit" value="Flash selected zip" />
      </form>
      <span>Flash test zip (only works locally):</span>
      <button class="download-zip-button">Download taimen factory zip</button>
      <button class="flash-zip-button">Flash downloaded zip</button>
      <pre class="factory-flash-log"></pre>
    </div>
  </body>
</html>
